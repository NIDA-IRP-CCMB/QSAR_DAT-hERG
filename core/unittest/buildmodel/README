## we softlink core/conf to current directory
ln -sf $core_dir core
ln -sf $conf_dir conf


## dataset used in this example is provided
dataset_rDAT_inhibitor_Ki


## Use core/run_buildmodel.py to generate the output


    #For XGB regression model
    python core/run_buildmodel.py -c regression -m xgb -i dataset_rDAT_inhibitor_Ki -b pubdata -o output_reg_xgb -a | tee output_reg_xgb.log

    ## we then compare the output_xgb.log to reference/rDAT_inhibitor_reg_xgb_alldata.log.
    diff output_reg_xgb.log reference/rDAT_inhibitor_reg_xgb_alldata.log
    ==> the same results as expected

    #For Random Forest regression model
    python core/run_buildmodel.py -c regression -m rf -i dataset_rDAT_inhibitor_Ki -b pubdata -o output_reg_rf -a | tee output_reg_rf.log
    diff output_reg_rf.log reference/output_reg_rf.log

	#For XGB classification model
    python core/run_buildmodel.py -c classification -m xgb -i dataset_rDAT_inhibitor_Ki -b pubdata_class -o output_class_xgb -a | tee output_class_xgb.log
    diff output_class_xgb.log reference/rDAT_inhibitor_class_xgb_alldata.log

	#For Random Forest classification model
    python core/run_buildmodel.py -c classification -m rf -i dataset_rDAT_inhibitor_Ki -b pubdata_class -o output_class_rf -a | tee output_class_rf.log
    diff output_class_rf.log reference/rDAT_inhibitor_class_rf_alldata.log


## then do_test.sh
